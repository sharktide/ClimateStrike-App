@inherits LayoutComponentBase
@inject NavigationManager Navigation

<MudThemeProvider Theme="_theme" IsDarkMode="_isDarkMode" />
<MudSnackbarProvider />
<MudDialogProvider />
<MudPopoverProvider />

<MudLayout>
    <MudAppBar Elevation="1" Color="Color.Default" Class="appbar-compact">
        <MudGrid Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
            <MudItem xs="2" Class="d-flex align-center">
                <MudIconButton Icon="@Icons.Material.Filled.Menu" OnClick="@ToggleDrawer" Edge="Edge.Start" Color="Color.Inherit" />
            </MudItem>

            <MudItem xs="6" Class="d-flex justify-center">
                <MudHidden Breakpoint="Breakpoint.SmAndDown">
                    <MudText Typo="Typo.subtitle1" Class="ml-2">STRIKE AI 2025</MudText>
                </MudHidden>
            </MudItem>

            <MudItem xs="4" Class="d-flex justify-end">
                <MudHidden Breakpoint="Breakpoint.MdAndUp">
                    <MudMenu Icon="@Icons.Material.Filled.MoreVert" Color="Color.Inherit">
                        <MudMenuItem>
                            <MudSwitch @bind-Value="_isDarkMode" T="bool" Label="Dark Mode" />
                        </MudMenuItem>
                        <MudMenuItem>Login</MudMenuItem>
                        <MudMenuItem>Logout</MudMenuItem>
                    </MudMenu>
                </MudHidden>

                <MudHidden Breakpoint="Breakpoint.SmAndDown">
                    <MudSwitch @bind-Value="_isDarkMode" T="bool" Label="Dark Mode" Class="mx-2" />
                    <MudButton Variant="Variant.Text" Color="Color.Inherit" Class="ml-2">Login</MudButton>
                    <MudButton Variant="Variant.Text" Color="Color.Inherit">Logout</MudButton>
                </MudHidden>
            </MudItem>
        </MudGrid>
    </MudAppBar>


    <MudDrawer Variant="DrawerVariant.Responsive" Elevation="2" Width="260px" Open="@_drawerOpen">
        <NavMenu />
    </MudDrawer>


    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;
    private bool _isDarkMode = true;
    private MudTheme _theme = new();

    private void ToggleDrawer() => _drawerOpen = !_drawerOpen;
}
